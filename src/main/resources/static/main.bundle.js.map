{"version":3,"sources":["C:/fsChat/src/$_lazy_route_resource lazy","C:/fsChat/src/app/app.component.css","C:/fsChat/src/app/app.component.html","C:/fsChat/src/app/app.component.ts","C:/fsChat/src/app/app.module.ts","C:/fsChat/src/app/app.router.config.ts","C:/fsChat/src/app/home/home.component.css","C:/fsChat/src/app/home/home.component.html","C:/fsChat/src/app/home/home.component.ts","C:/fsChat/src/app/services/sock-js.service.ts","C:/fsChat/src/app/services/socket.service.ts","C:/fsChat/src/environments/environment.ts","C:/fsChat/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/fsChat/src/$$_lazy_route_resource lazy\n// module id = ../../../../../src/$$_lazy_route_resource lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/fsChat/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<router-outlet></router-outlet>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/fsChat/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app';\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/fsChat/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { HomeComponent } from './home/home.component';\n\nimport { RouterModule } from '@angular/router';\nimport { appRoutes } from './app.router.config';\n\nimport { SocketService } from './services/socket.service';\nimport { SockJsService } from './services/sock-js.service';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HomeComponent\n  ],\n  imports: [\n    BrowserModule,\n    RouterModule.forRoot(appRoutes)\n  ],\n  providers: [\n    { provide: SocketService, useClass: SockJsService }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// C:/fsChat/src/app/app.module.ts","import { Routes } from '@angular/router';\r\nimport { HomeComponent } from './home/home.component';\r\n\r\nexport const appRoutes: Routes = [\r\n  { path: '',\r\n    component: HomeComponent \r\n  }\r\n];\n\n\n// WEBPACK FOOTER //\n// C:/fsChat/src/app/app.router.config.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/fsChat/src/app/home/home.component.css\n// module id = ../../../../../src/app/home/home.component.css\n// module chunks = main","module.exports = \"<h1>Chat home Yes</h1>\\n<button (click)=\\\"connect()\\\" [disabled]=\\\"socketIsOpen\\\">Connect</button>\\n<button (click)=\\\"disconnect()\\\" [disabled]=\\\"!socketIsOpen\\\">Disconnect</button>\\n\\n<div *ngIf=\\\"socketIsOpen\\\">\\n  <label>Echo Message: </label><input type=\\\"text\\\" #message>\\n  <button (click)=\\\"sendMessage(message.value)\\\">Send</button>\\n</div>\\n\\n<p #messages></p>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/fsChat/src/app/home/home.component.html\n// module id = ../../../../../src/app/home/home.component.html\n// module chunks = main","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport * as Rx from 'rxjs/Rx';\n\nimport { SocketService, socketMessage, GENERAL_QUEUE_ID } from '../services/socket.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  private socketPath: string = '/gs-guide-websocket';\n\n  private socketMessagesSubject: Rx.Subject<socketMessage>;\n  private socketIsOpen: boolean = false;\n\n  @ViewChild('messages') messages: ElementRef;\n\n  constructor(private socketService: SocketService) { }\n\n  ngOnInit() {\n    \n  }\n\n  connect() {\n    this.messages.nativeElement.innerHTML += \"Connecting to url: \" + this.socketPath + \"<br/>\";\n    this.socketMessagesSubject = this.socketService.connectToSocket(this.socketPath, ['/topic/greetings']);\n    this.socketMessagesSubject.subscribe((sm: socketMessage) => {\n      switch (sm.queue) {\n        case GENERAL_QUEUE_ID:\n          this.socketIsOpen = true;\n          this.messages.nativeElement.innerHTML += \"General: Socket Opened successfully, url: \" + this.socketPath + \"<br/>\";\n          console.log(\"Socket Opened successfully, url: \", this.socketPath);\n          break;\n        case '/app/hello':\n          this.messages.nativeElement.innerHTML += \"/app/hello: Got message back from server: \" + sm.body + \"<br/>\";\n          console.log(\"/app/hello: Got message back from server: \", sm.body);\n          break;\n        default:\n          console.log(sm);\n          this.messages.nativeElement.innerHTML += \"Default: \" + sm.body + \"<br/>\";\n          break;\n      }\n    },\n    (error) => {\n      this.socketIsOpen = false;\n      this.messages.nativeElement.innerHTML += \"Socket Closed due to the following error: \" + error + \"<br/>\";\n      console.error(\"Socket Closed due to the following error: \" + error);\n    },\n    () => {\n      this.socketIsOpen = false;\n      this.messages.nativeElement.innerHTML += \"Socket Closed\" + \"<br/>\";\n      console.log(\"Socket Closed\");\n    })\n  }\n\n  disconnect() {\n    if(this.socketIsOpen) {\n      this.socketService.disconnect();\n    }\n  }\n\n  sendMessage(message) {\n    this.socketService.sendMessage('/app/hello', {\n      name: 'Maor Ha Sus',\n      message,\n      date: 'Date'\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/fsChat/src/app/home/home.component.ts","import { Injectable } from '@angular/core';\nimport { SocketService } from './socket.service';\nimport * as Rx from 'rxjs/Rx';\n\nimport * as SockJS from \"sockjs-client\";\nimport * as stompjs from 'stompjs';\nimport { Client, Frame, Message } from \"stompjs\";\nimport { socketMessage, GENERAL_QUEUE_ID } from './socket.service';\n\nclass SocketQueue {\n  id: string;\n  subscription?: any;\n}\n\n@Injectable()\nexport class SockJsService extends SocketService {\n\n  private socket: WebSocket;\n  private stompClient: Client;\n  private subject: Rx.Subject<socketMessage>;\n  private isOpen: boolean = false;\n  private subscribedQueues: SocketQueue[] = [];\n\n  connectToSocket(url: string, queues: string[] = [] ,user: string = '', password: string = '', headers: any = {}): Rx.Subject<socketMessage> {\n    // Creating a socket with a given URL\n    this.socket = new SockJS(url) as WebSocket;\n\n    // Configuring the Stomp protocol to ride over the given socket\n    this.stompClient = stompjs.over(this.socket);\n    this.stompClient.debug = (str) => {\n      // Do nothing so no console messages will be printed\n    };\n\n    console.log(\"Opening Socket to: \", url, \"With the following Queues: \", queues, \" and the following Headers: \", headers);\n    // Connecting to the socket\n    this.stompClient.connect(user, password,\n      // When successfully connected\n      (frame: Frame) => {\n        console.log('Connected to: ', url, 'With frame: ', frame);\n        this.isOpen = true;\n        this.onMessage(GENERAL_QUEUE_ID, true);\n        // subscribing to the queues\n        for(let queue of this.subscribedQueues) {\n          queue.subscription = this.stompClient.subscribe(queue.id, (message) => {\n            this.onMessage(queue.id, JSON.parse(message.body));\n          });\n        }\n      },\n      (error: string) => {\n        this.subject.error(error);\n        this.subject.complete();\n      }\n    );\n\n    // Disconnecting from old socket if opened\n    if(this.subject && !this.subject.closed) {\n      if(this.stompClient.connected) {\n        this.disconnect();\n      }\n    }\n\n    this.subject = new Rx.Subject<socketMessage>();\n\n    for(let queueId of queues) {\n      this.subscribedQueues.push({\n        id: queueId\n      })\n    }\n\n    return this.subject;\n  }\n\n  queueExists(queueId: string): boolean {\n    return this.subscribedQueues.filter((queue) => {\n        return queue.id === queueId;\n    }).length !== 0\n  }\n\n  onMessage(queueId: string, body: any): void {\n    this.subject.next({\n      queue: queueId,\n      body: body.content\n    });\n  }\n\n  sendMessage(queueId: string, body: any, headers: any = {}, mustExist: boolean = false): void {\n    // // Checking if the queue exists\n    // if(!this.queueExists(queueId)) {\n    //   // Queue not exists, checking if have to be existed or create a new one\n    //   if(mustExist) {\n    //     console.error('Queue \"' + queueId + '\" does not exist, message was not sent');\n    //     return;\n    //   }\n    //   this.subscribedToQueue(queueId);\n    // }\n\n    // Sending the message\n    this.stompClient.send(queueId, headers, JSON.stringify(body));\n  }\n\n  subscribedToQueue(queueId) {\n    if(!this.queueExists(queueId)) {\n      this.subscribedQueues.push({\n        id: queueId,\n        subscription: this.stompClient.subscribe(queueId, (message) => {\n            this.onMessage(queueId, JSON.parse(message.body));\n          })\n      })\n    }\n  }\n\n  disconnect(): void {\n    // unsubscribing from all queues\n    for(let queue of this.subscribedQueues) {\n      queue.subscription.unsubscribe();\n    }\n\n    // Disconnecting\n    this.stompClient.disconnect(() => {\n      // Compliting the subject observable\n      this.subject.complete();\n    });\n    this.isOpen = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/fsChat/src/app/services/sock-js.service.ts","import { Injectable } from '@angular/core';\nimport * as Rx from 'rxjs/Rx';\n\nexport class socketMessage {\n  queue: string;\n  body: any;\n}\n\nexport const GENERAL_QUEUE_ID = 'ֹֹֹֹ__general';\n\n@Injectable()\nexport abstract class SocketService {\n\n  constructor() { }\n\n  abstract connectToSocket(url: string, queues?: string[] ,user?: string, password?: string, headers?: any): Rx.Subject<socketMessage>;\n  abstract onMessage(queueId: string, body: any): void;\n  abstract sendMessage(queueId: string, body: any, headers?: any, mustExist?: boolean): void;\n  abstract disconnect(): void;\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/fsChat/src/app/services/socket.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// C:/fsChat/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// C:/fsChat/src/main.ts"],"sourceRoot":"webpack:///"}